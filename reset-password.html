<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
<title>Lupa Password â€“ Dollar App</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
    body {
        margin:0;
        font-family:'Inter', sans-serif;
        background:#f1f5f9;
        height:100vh;
        display:flex;
        justify-content:center;
        align-items:center;
        padding:20px;
    }

    .card {
        width:100%;
        max-width:380px;
        background:white;
        padding:25px;
        border-radius:20px;
        box-shadow:0 4px 15px rgba(0,0,0,0.12);
    }

    h2 {
        text-align:center;
        font-weight:600;
        margin-bottom:18px;
    }

    p {
        text-align:center;
        font-size:14px;
        color:#555;
        margin-bottom:20px;
    }

    input {
        width:100%;
        padding:12px;
        border-radius:12px;
        border:1px solid #d1d5db;
        outline:none;
        font-size:15px;
        margin-bottom:15px;
    }

    button {
        width:100%;
        padding:12px;
        border-radius:10px;
        border:none;
        background:#3b82f6;
        color:white;
        font-weight:600;
        font-size:15px;
        cursor:pointer;
    }

    button:active {
        background:#2563eb;
    }

    /* Blur overlay untuk modal */
    .overlay {
        position:fixed;
        top:0; left:0;
        width:100%; height:100%;
        backdrop-filter: blur(5px);
        background:rgba(0,0,0,0.2);
        display:none;
        justify-content:center;
        align-items:center;
        padding:20px;
    }

    .modal {
        background:white;
        padding:20px;
        border-radius:15px;
        width:100%;
        max-width:300px;
        text-align:center;
        box-shadow:0 4px 15px rgba(0,0,0,0.2);
    }

    .modal button {
        margin-top:15px;
        background:#10b981;
    }

</style>
</head>

<body>

<div class="card">
    <h2>Lupa Password</h2>
    <p>Masukkan email akun kamu, nanti kami kirim link untuk mereset password.</p>

    <input id="email" type="email" placeholder="Email kamu..." />
    <button onclick="sendReset()">Kirim Link Reset</button>
</div>


<!-- Modal Notifikasi -->
<div id="overlay" class="overlay">
    <div class="modal">
        <div id="msg">Berhasil!</div>
        <button onclick="closeModal()">Oke</button>
    </div>
</div>


<script type="module">
import { 
    auth, 
    sendPasswordResetEmail 
} from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { app } from "./firebase.js";


// =============================
// Kirim Email Reset Password
// =============================
window.sendReset = async () => {
    const email = document.getElementById("email").value.trim();

    if (!email) {
        show("Masukkan email terlebih dahulu");
        return;
    }

    try {
        await sendPasswordResetEmail(auth, email);
        show("Link reset password telah dikirim ke email kamu");
    } 
    catch (err) {
        show("Gagal: " + err.message);
    }
};


// =============================
// Modal (Blur background)
// =============================
function show(text) {
    document.getElementById("msg").innerText = text;
    document.getElementById("overlay").style.display = "flex";
}

window.closeModal = () => {
    document.getElementById("overlay").style.display = "none";
};
</script>

</body>
</html>